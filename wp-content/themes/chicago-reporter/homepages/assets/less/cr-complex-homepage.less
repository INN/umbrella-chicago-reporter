/**
 * Homepage styles for the "ChicagooReporterComplex" homepage class
 */
@import "_variables.less";

.bar-above::before{
  display: block;
  clear: both;
  content: '';
  height: 0.2em;
  width: 3em;
  background-color: @red;
  margin-bottom: 0.3em;

  // this really should be a separate class but it is only used here
  text-transform: uppercase;
}
h3, h5 {
  font-family: @title;
}

#homepage-top-sidebar,
#homepage-middle-image {
  h5 a {
    color: @black;
    &:hover {
      color: @black;
    }
  }
  h5 {
    margin-bottom: 0.5em;
  }
  .morelink a {
    margin-top: 1em;
    display: inline-block;
    padding: 0.5em 1.5em;
    background-color: @black;
    color: @white;
    font-family: @sans;
    &:hover {
      color: @white;
      text-decoration: underline;
      background-color: lighten( @black, 10% );
    }
  }
  img {
    padding-bottom: 0;
    margin-bottom: 1em;
    height: auto;
    width: 100%;
  }

}

.top-story {
  background-color: @black;
  color: @white;
  text-align: center;
  .text {
    position: relative;
    margin-top: -4em;
  }

  h2 {
    //margin-top: -1em; // to move this up into the black of the image some.
    padding: 0 0.5em;
    a {
      color: @white;
      &:hover {
        color: @white;
      }
    }
  }

  .byline {
    font-family: @sans;
    margin-bottom: 1em;
    a {
      color: @white;
      font-weight: bold;
      &:hover {
        color: @white;
      }
    }
  }
  .edit-link {
    display: none;
  }

  .is-image a {
    display: block;
    position: relative;

    &::before {
      background-image: linear-gradient(
        transparent,
        transparent 75%,
        @black 90%
      );
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  }
}

.ChicagoReporterComplex {
  &.stories article img.attachment-large,
  .sub-stories img.attachment-post-thumbnail {
    height: auto;
    max-width: 100%;
    float: none;
    margin: 0 0 1em 0;
  }

  .top-tag a {
    color: @gray;
    font-family: @sans;
  }
}

.sub-stories,
#homepage-middle-image {
  margin-bottom: 2em;
}
.sub-stories {
  article {
    border-bottom: none;
  }
  h3 {
    margin-bottom: 0;
    a {
      color: @black;
      &:hover {
        color: @black;
      }
    }
  }
  .byline {
    margin: 0.5em 0;
    font-family: @sans;
  }
}

#beats_menu {
  margin-bottom: 3em;
  a span {
    display: block;
    padding: 0.3em 0.5em;
    background-color: @blue;
    color: @white;
    font-size: 1.5em;
    font-family: @sans;
    font-weight: bold;
    text-transform: uppercase;

    &:hover {
      color: @white;
      text-decoration: underline;
    }
  }
}

#sidebar {
  .widget {
    border-top: 0.2em @red solid;
    background-color: @fog_light;
    padding: 24px;
  }
}

@media ( max-width: 768px ) {
  .row .span8,
  .row .span4 {
    width: 100%;
    margin: 0;
  }
  #nav-below {
    margin: 1em;
    clear: both;
    text-align: center;
  }
  .sub-stories p,
  #homepage-middle-image p {
    font-size: 16px;
  }

  // do not let images get irresponsibly huge, because we are using a smaller image size here
  #investigations img.wp-post-image {
    float: left;
    margin: 4px 12px 6px 0;
    height: auto;
    width: 30%;;
    max-width: 30%;
  }
}
@media ( max-width: 640px ) {
  .top-story {
    h2 {
      font-size: 40px
    }
  }
  #beats_menu .span3 {
    // effectively span6
    width: 48.93617021%;
    margin-bottom: 1em;
    &:nth-child( odd ) {
      margin-left: 0;
      clear: left;
    }
  }
}
@media ( max-width: 480px ) {
  .top-story {
    h2 {
      font-size: 36px;
    }
  }
}
@media ( max-width: 360px ) {
  .top-story {
    h2 {
      font-size: 32px;
    }
  }
}
